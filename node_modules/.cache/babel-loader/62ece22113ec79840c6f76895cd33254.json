{"ast":null,"code":"var _jsxFileName = \"/Users/TiffanyCheng/sei/projects/poem-frontend/poem-frontend/src/components/poems/Message.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { changeMessage, deleteMessage } from '../../api/messages';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Message = ({\n  message,\n  user,\n  refresh\n}) => {\n  _s();\n\n  const [msg, setMsg] = useState(message.text);\n  const [editing, setEditing] = useState(false);\n\n  const handleDelete = () => {\n    deleteMessage(message._id, user).then(() => {\n      refresh();\n    }).catch(console.error);\n  };\n\n  const handleEdit = () => {\n    changeMessage(message._id, msg, user).then(() => {\n      refresh();\n      setEditing(false);\n    }).catch(console.error);\n  };\n\n  const editChange = e => {\n    setMsg(e.target.value);\n  };\n\n  const startEdit = () => {\n    setEditing(true);\n  };\n\n  const cancelEdit = () => {\n    setEditing(false);\n    setMsg(message.text);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      borderBottom: 'solid',\n      paddingTop: '1rem',\n      marginLeft: '10%',\n      width: '80%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        padding: '1rem',\n        width: '20rem'\n      },\n      children: message.owner.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), !editing && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        padding: '1rem',\n        width: '80%'\n      },\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 20\n    }, this), editing && /*#__PURE__*/_jsxDEV(\"input\", {\n      style: {\n        padding: '1rem',\n        width: '80%'\n      },\n      value: msg,\n      onChange: editChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        float: 'right',\n        width: '20rem'\n      },\n      children: [!editing && user && user.token === message.owner.token && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: startEdit,\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 68\n      }, this), editing && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEdit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), editing && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: cancelEdit,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), !editing && user && user.token === message.owner.token && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleDelete,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 68\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Message, \"Y+/UZmn9TogqRlt60o6lVcPbFGk=\");\n\n_c = Message;\nexport default Message;\n\nvar _c;\n\n$RefreshReg$(_c, \"Message\");","map":{"version":3,"sources":["/Users/TiffanyCheng/sei/projects/poem-frontend/poem-frontend/src/components/poems/Message.js"],"names":["React","useState","changeMessage","deleteMessage","Message","message","user","refresh","msg","setMsg","text","editing","setEditing","handleDelete","_id","then","catch","console","error","handleEdit","editChange","e","target","value","startEdit","cancelEdit","display","borderBottom","paddingTop","marginLeft","width","padding","owner","email","float","token"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { changeMessage, deleteMessage } from '../../api/messages'\n\nconst Message = ({ message, user, refresh }) => {\n  const [msg, setMsg] = useState(message.text)\n  const [editing, setEditing] = useState(false)\n\n  const handleDelete = () => {\n    deleteMessage(message._id, user)\n      .then(() => {\n        refresh()\n      })\n      .catch(console.error)\n  }\n\n  const handleEdit = () => {\n    changeMessage(message._id, msg, user)\n      .then(() => {\n        refresh()\n        setEditing(false)\n      })\n      .catch(console.error)\n  }\n\n  const editChange = (e) => {\n    setMsg(e.target.value)\n  }\n\n  const startEdit = () => {\n    setEditing(true)\n  }\n\n  const cancelEdit = () => {\n    setEditing(false)\n    setMsg(message.text)\n  }\n\n  return (\n    <div style={{\n      display: 'flex',\n      borderBottom: 'solid',\n      paddingTop: '1rem',\n      marginLeft: '10%',\n      width: '80%'\n    }}>\n      <p style={{ padding: '1rem', width: '20rem' }}>{message.owner.email}</p>\n      {!editing && <p style={{ padding: '1rem', width: '80%' }}>{msg}</p>}\n      {editing && <input style={{ padding: '1rem', width: '80%' }} value={msg} onChange={editChange}></input>}\n      <div style={{ float: 'right', width: '20rem' }}>\n        {!editing && user && user.token === message.owner.token && <button onClick={startEdit}>Edit</button>}\n        {editing && <button onClick={handleEdit}>Submit</button>}\n        {editing && <button onClick={cancelEdit}>Cancel</button>}\n        {!editing && user && user.token === message.owner.token && <button onClick={handleDelete}>Delete</button>}\n      </div>\n    </div>\n  )\n}\n\nexport default Message\n"]},"metadata":{},"sourceType":"module"}