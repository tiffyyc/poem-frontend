{"ast":null,"code":"var _jsxFileName = \"/Users/TiffanyCheng/sei/projects/poem-frontend/poem-frontend/src/components/poems/MessageBoard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { createMessage, getMessages } from '../../api/messages';\nimport Message from './Message';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MessageBoard = ({\n  user\n}) => {\n  _s();\n\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState('');\n  const [numMessages, setNumMessages] = useState(10);\n  const {\n    id\n  } = useParams();\n  useEffect(() => {\n    getMessages(id).then(res => {\n      setMessages(res.data.messages.reverse().slice(0, numMessages));\n    }).catch(console.error);\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const body = {\n      board: id,\n      text: newMessage,\n      owner: user\n    };\n    createMessage(body).then(() => {\n      setNewMessage('');\n      onRefresh();\n    }).catch(console.error);\n  };\n\n  const onRefresh = e => {\n    getMessages(id).then(res => {\n      setMessages(res.data.messages.reverse().slice(0, numMessages));\n    }).catch(console.error);\n  };\n\n  const onMessageChange = e => {\n    e.preventDefault();\n    setNewMessage(e.target.value);\n  };\n\n  const onNumMessageChange = e => {\n    e.preventDefault();\n    setNumMessages(e.target.value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: '2rem',\n      width: '100%',\n      height: '500px',\n      backgroundColor: '#fff'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '0 10%',\n        padding: '2%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '30%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: '30%'\n        },\n        children: \"Message Board\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'flex-end',\n          alignItems: 'right',\n          marginRight: '10%',\n          width: '30%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 'auto 0.5rem auto 1rem'\n          },\n          children: \" Messages Displayed: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: numMessages,\n          onChange: onNumMessageChange,\n          style: {\n            width: '3rem',\n            textAlign: 'center'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onRefresh,\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: onSubmit,\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingTop: '1rem',\n        margin: '0 10%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: 'auto 0.5rem auto 1rem'\n        },\n        children: \"New message: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          width: '50%',\n          height: '3rem'\n        },\n        value: newMessage,\n        onChange: onMessageChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 16\n    }, this), messages.map(message => {\n      return /*#__PURE__*/_jsxDEV(Message, {\n        message: message,\n        user: user,\n        refresh: onRefresh\n      }, message._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 16\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MessageBoard, \"C3M9eiQ2cw5NvDfckKVftvMeH8o=\", false, function () {\n  return [useParams];\n});\n\n_c = MessageBoard;\nexport default MessageBoard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MessageBoard\");","map":{"version":3,"sources":["/Users/TiffanyCheng/sei/projects/poem-frontend/poem-frontend/src/components/poems/MessageBoard.js"],"names":["React","useEffect","useState","useParams","createMessage","getMessages","Message","MessageBoard","user","messages","setMessages","newMessage","setNewMessage","numMessages","setNumMessages","id","then","res","data","reverse","slice","catch","console","error","onSubmit","e","preventDefault","body","board","text","owner","onRefresh","onMessageChange","target","value","onNumMessageChange","marginTop","width","height","backgroundColor","display","alignItems","justifyContent","margin","padding","flexDirection","marginRight","textAlign","paddingTop","map","message","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { createMessage, getMessages } from '../../api/messages'\nimport Message from './Message'\n\nconst MessageBoard = ({ user }) => {\n  const [messages, setMessages] = useState([])\n  const [newMessage, setNewMessage] = useState('')\n  const [numMessages, setNumMessages] = useState(10)\n\n  const { id } = useParams()\n\n  useEffect(() => {\n    getMessages(id)\n      .then(res => {\n        setMessages(res.data.messages.reverse().slice(0, numMessages))\n      })\n      .catch(console.error)\n  }, [])\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n\n    const body = {\n      board: id,\n      text: newMessage,\n      owner: user\n    }\n\n    createMessage(body)\n      .then(() => {\n        setNewMessage('')\n        onRefresh()\n      })\n      .catch(console.error)\n  }\n\n  const onRefresh = (e) => {\n    getMessages(id)\n      .then(res => {\n        setMessages(res.data.messages.reverse().slice(0, numMessages))\n      })\n      .catch(console.error)\n  }\n\n  const onMessageChange = e => {\n    e.preventDefault()\n\n    setNewMessage(e.target.value)\n  }\n\n  const onNumMessageChange = (e) => {\n    e.preventDefault()\n\n    setNumMessages(e.target.value)\n  }\n\n  return (\n    <div style={{\n      marginTop: '2rem',\n      width: '100%',\n      height: '500px',\n      backgroundColor: '#fff'\n    }}>\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        margin: '0 10%',\n        padding: '2%'\n      }}>\n        <div style={{ width: '30%' }}>\n          {/* for spacing */}\n        </div>\n        <h4 style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          width: '30%'\n        }}>Message Board</h4>\n        <div style={{\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'flex-end',\n          alignItems: 'right',\n          marginRight: '10%',\n          width: '30%'\n        }}>\n          <p style={{ margin: 'auto 0.5rem auto 1rem' }}> Messages Displayed: </p>\n          <input value={numMessages} onChange={onNumMessageChange} style={{ width: '3rem', textAlign: 'center' }}></input>\n          <button onClick={onRefresh}>Refresh</button>\n        </div>\n      </div>\n      {user && <form onSubmit={onSubmit} style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        paddingTop: '1rem',\n        margin: '0 10%'\n      }}>\n        <p style={{\n          margin: 'auto 0.5rem auto 1rem'\n        }}>New message: </p>\n        <input style={{\n          width: '50%',\n          height: '3rem'\n        }}\n        value={newMessage} onChange={onMessageChange}></input>\n        <button>Submit</button>\n      </form>}\n\n      {messages.map(message => {\n        return <Message key={message._id} message={message} user={user} refresh={onRefresh} />\n      })}\n    </div>\n  )\n}\n\nexport default MessageBoard\n"]},"metadata":{},"sourceType":"module"}